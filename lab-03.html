<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lab-03</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Untitled_files/libs/clipboard/clipboard.min.js"></script>
<script src="Untitled_files/libs/quarto-html/quarto.js"></script>
<script src="Untitled_files/libs/quarto-html/popper.min.js"></script>
<script src="Untitled_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Untitled_files/libs/quarto-html/anchor.min.js"></script>
<link href="Untitled_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Untitled_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Untitled_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Untitled_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Untitled_files/libs/bootstrap/bootstrap-c0367b04c37547644fece4185067e4a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="Untitled_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="Untitled_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="Untitled_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="Untitled_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="Untitled_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="Untitled_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="Untitled_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="Untitled_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="Untitled_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="Untitled_files/libs/leaflet-binding-2.2.3/leaflet.js"></script>
<script src="Untitled_files/libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="Untitled_files/libs/leaflet-providers-plugin-2.2.3/leaflet-providers-plugin.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">lab-03</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="read-in-data" class="level3">
<h3 class="anchored" data-anchor-id="read-in-data">1. Read in data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>met <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'met_all'</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">','</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="check-dimensions" class="level3">
<h3 class="anchored" data-anchor-id="check-dimensions">2. Check dimensions</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(met)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2377343      30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(met)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  USAFID  WBAN year month day hour min  lat      lon elev wind.dir wind.dir.qc
1 690150 93121 2019     8   1    0  56 34.3 -116.166  696      220           5
2 690150 93121 2019     8   1    1  56 34.3 -116.166  696      230           5
3 690150 93121 2019     8   1    2  56 34.3 -116.166  696      230           5
4 690150 93121 2019     8   1    3  56 34.3 -116.166  696      210           5
5 690150 93121 2019     8   1    4  56 34.3 -116.166  696      120           5
6 690150 93121 2019     8   1    5  56 34.3 -116.166  696       NA           9
  wind.type.code wind.sp wind.sp.qc ceiling.ht ceiling.ht.qc ceiling.ht.method
1              N     5.7          5      22000             5                 9
2              N     8.2          5      22000             5                 9
3              N     6.7          5      22000             5                 9
4              N     5.1          5      22000             5                 9
5              N     2.1          5      22000             5                 9
6              C     0.0          5      22000             5                 9
  sky.cond vis.dist vis.dist.qc vis.var vis.var.qc temp temp.qc dew.point
1        N    16093           5       N          5 37.2       5      10.6
2        N    16093           5       N          5 35.6       5      10.6
3        N    16093           5       N          5 34.4       5       7.2
4        N    16093           5       N          5 33.3       5       5.0
5        N    16093           5       N          5 32.8       5       5.0
6        N    16093           5       N          5 31.1       5       5.6
  dew.point.qc atm.press atm.press.qc       rh
1            5    1009.9            5 19.88127
2            5    1010.3            5 21.76098
3            5    1010.6            5 18.48212
4            5    1011.6            5 16.88862
5            5    1012.7            5 17.38410
6            5    1012.7            5 20.01540</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(met)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        USAFID  WBAN year month day hour min    lat      lon elev wind.dir
2377338 726813 94195 2019     8  31   18  56 43.650 -116.633  741       NA
2377339 726813 94195 2019     8  31   19  56 43.650 -116.633  741       70
2377340 726813 94195 2019     8  31   20  56 43.650 -116.633  741       NA
2377341 726813 94195 2019     8  31   21  56 43.650 -116.633  741       10
2377342 726813 94195 2019     8  31   22  56 43.642 -116.636  741       10
2377343 726813 94195 2019     8  31   23  56 43.642 -116.636  741       40
        wind.dir.qc wind.type.code wind.sp wind.sp.qc ceiling.ht ceiling.ht.qc
2377338           9              C     0.0          5      22000             5
2377339           5              N     2.1          5      22000             5
2377340           9              C     0.0          5      22000             5
2377341           5              N     2.6          5      22000             5
2377342           1              N     2.1          1      22000             1
2377343           1              N     2.1          1      22000             1
        ceiling.ht.method sky.cond vis.dist vis.dist.qc vis.var vis.var.qc temp
2377338                 9        N    16093           5       N          5 30.0
2377339                 9        N    16093           5       N          5 32.2
2377340                 9        N    16093           5       N          5 33.3
2377341                 9        N    14484           5       N          5 35.0
2377342                 9        N    16093           1       9          9 34.4
2377343                 9        N    16093           1       9          9 34.4
        temp.qc dew.point dew.point.qc atm.press atm.press.qc       rh
2377338       5      11.7            5    1013.6            5 32.32509
2377339       5      12.2            5    1012.8            5 29.40686
2377340       5      12.2            5    1011.6            5 27.60422
2377341       5       9.4            5    1010.8            5 20.76325
2377342       1       9.4            1    1010.1            1 21.48631
2377343       1       9.4            1    1009.6            1 21.48631</code></pre>
</div>
</div>
<p>There are 30 columns and 2377343 rows.</p>
</section>
<section id="check-variables" class="level3">
<h3 class="anchored" data-anchor-id="check-variables">3. Check variables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(met)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   2377343 obs. of  30 variables:
 $ USAFID           : int  690150 690150 690150 690150 690150 690150 690150 690150 690150 690150 ...
 $ WBAN             : int  93121 93121 93121 93121 93121 93121 93121 93121 93121 93121 ...
 $ year             : int  2019 2019 2019 2019 2019 2019 2019 2019 2019 2019 ...
 $ month            : int  8 8 8 8 8 8 8 8 8 8 ...
 $ day              : int  1 1 1 1 1 1 1 1 1 1 ...
 $ hour             : int  0 1 2 3 4 5 6 7 8 9 ...
 $ min              : int  56 56 56 56 56 56 56 56 56 56 ...
 $ lat              : num  34.3 34.3 34.3 34.3 34.3 34.3 34.3 34.3 34.3 34.3 ...
 $ lon              : num  -116 -116 -116 -116 -116 ...
 $ elev             : int  696 696 696 696 696 696 696 696 696 696 ...
 $ wind.dir         : int  220 230 230 210 120 NA 320 10 320 350 ...
 $ wind.dir.qc      : chr  "5" "5" "5" "5" ...
 $ wind.type.code   : chr  "N" "N" "N" "N" ...
 $ wind.sp          : num  5.7 8.2 6.7 5.1 2.1 0 1.5 2.1 2.6 1.5 ...
 $ wind.sp.qc       : chr  "5" "5" "5" "5" ...
 $ ceiling.ht       : int  22000 22000 22000 22000 22000 22000 22000 22000 22000 22000 ...
 $ ceiling.ht.qc    : int  5 5 5 5 5 5 5 5 5 5 ...
 $ ceiling.ht.method: chr  "9" "9" "9" "9" ...
 $ sky.cond         : chr  "N" "N" "N" "N" ...
 $ vis.dist         : int  16093 16093 16093 16093 16093 16093 16093 16093 16093 16093 ...
 $ vis.dist.qc      : chr  "5" "5" "5" "5" ...
 $ vis.var          : chr  "N" "N" "N" "N" ...
 $ vis.var.qc       : chr  "5" "5" "5" "5" ...
 $ temp             : num  37.2 35.6 34.4 33.3 32.8 31.1 29.4 28.9 27.2 26.7 ...
 $ temp.qc          : chr  "5" "5" "5" "5" ...
 $ dew.point        : num  10.6 10.6 7.2 5 5 5.6 6.1 6.7 7.8 7.8 ...
 $ dew.point.qc     : chr  "5" "5" "5" "5" ...
 $ atm.press        : num  1010 1010 1011 1012 1013 ...
 $ atm.press.qc     : int  5 5 5 5 5 5 5 5 5 5 ...
 $ rh               : num  19.9 21.8 18.5 16.9 17.4 ...</code></pre>
</div>
</div>
</section>
<section id="check-key-variables" class="level3">
<h3 class="anchored" data-anchor-id="check-key-variables">4. Check key variables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(met<span class="sc">$</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   2019 
2377343 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(met<span class="sc">$</span>day)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    1     2     3     4     5     6     7     8     9    10    11    12    13 
75975 75923 76915 76594 76332 76734 77677 77766 75366 75450 76187 75052 76906 
   14    15    16    17    18    19    20    21    22    23    24    25    26 
77852 76217 78015 78219 79191 76709 75527 75786 78312 77413 76965 76806 79114 
   27    28    29    30    31 
79789 77059 71712 74931 74849 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(met<span class="sc">$</span>hour)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     0      1      2      3      4      5      6      7      8      9     10 
 99434  93482  93770  96703 110504 112128 106235 101985 100310 102915 101880 
    11     12     13     14     15     16     17     18     19     20     21 
100470 103605  97004  96507  97635  94942  94184 100179  94604  94928  96070 
    22     23 
 94046  93823 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(met<span class="sc">$</span>temp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  -40 -17.2   -17    -3  -2.4    -2  -1.7  -1.5  -1.1    -1  -0.8  -0.6  -0.2 
   36     6     8     4     1    10     2     1     1    22     5     3     3 
 -0.1     0   0.1   0.2   0.3   0.4   0.5   0.6   0.7   0.8   0.9     1   1.1 
    3    59     6     6     3     3     3    15     7     2     9    95    27 
  1.2   1.3   1.4   1.5   1.6   1.7   1.8   1.9     2   2.1   2.2   2.3   2.4 
    7     7     1     7     3    35    10     7   163    14    63    10    11 
  2.5   2.6   2.7   2.8   2.9     3   3.1   3.2   3.3   3.4   3.5   3.6   3.7 
   13    12    13    82    22   311    23    24    86    16    23    25    29 
  3.8   3.9     4   4.1   4.2   4.3   4.4   4.5   4.6   4.7   4.8   4.9     5 
   25   147   382    21    34    17   181    44    34    26    44    30   997 
  5.1   5.2   5.3   5.4   5.5   5.6   5.7   5.8   5.9     6   6.1   6.2   6.3 
   53    45    44    43    69   378    61    57    48  1523   465    71    59 
  6.4   6.5   6.6   6.7   6.8   6.9     7   7.1   7.2   7.3   7.4   7.5   7.6 
   65   104   104   601    95    83  2476   104   696   119    83   165   138 
  7.7   7.8   7.9     8   8.1   8.2   8.3   8.4   8.5   8.6   8.7   8.8   8.9 
  132   846   110  3541   183   204  1192   186   273   240   238   177  1403 
    9   9.1   9.2   9.3   9.4   9.5   9.6   9.7   9.8   9.9    10  10.1  10.2 
 3367   288   262   219  1630   398   327   351   276   261  7886   421   372 
 10.3  10.4  10.5  10.6  10.7  10.8  10.9    11  11.1  11.2  11.3  11.4  11.5 
  339   298   587  2545   419   399   329  9141  3232   531   473   403   892 
 11.6  11.7  11.8  11.9    12  12.1  12.2  12.3  12.4  12.5  12.6  12.7  12.8 
  633  3686   572   476 14123   820  4647   645   544  1317  1007   945  5169 
 12.9    13  13.1  13.2  13.3  13.4  13.5  13.6  13.7  13.8  13.9    14  14.1 
  650 17184  1066  1103  6459   777  1732  1286  1219  1213  7283 18282  1418 
 14.2  14.3  14.4  14.5  14.6  14.7  14.8  14.9    15  15.1  15.2  15.3  15.4 
 1276  1112  8202  2116  1688  1555  1306  1028 31602  1690  1849  1416  1046 
 15.5  15.6  15.7  15.8  15.9    16  16.1  16.2  16.3  16.4  16.5  16.6  16.7 
 2643 11800  1716  1581  1172 27734 13655  2046  1781  1401  3292  2537 15183 
 16.8  16.9    17  17.1  17.2  17.3  17.4  17.5  17.6  17.7  17.8  17.9    18 
 1976  1519 35549  2748 17492  2262  1609  4174  2974  2857 18998  1774 42325 
 18.1  18.2  18.3  18.4  18.5  18.6  18.7  18.8  18.9    19  19.1  19.2  19.3 
 3302  3199 21444  1950  5239  3536  3359  3020 21917 40269  4029  3781  3119 
 19.4  19.5  19.6  19.7  19.8  19.9    20  20.1  20.2  20.3  20.4  20.5  20.6 
24987  5779  4098  3744  3120  2466 70325  4520  4132  3482  2656  6446 29934 
 20.7  20.8  20.9    21  21.1  21.2  21.3  21.4  21.5  21.6  21.7  21.8  21.9 
 4287  3668  2753 56445 31912  4545  4075  2969  7073  5320 33138  3979  3129 
   22  22.1  22.2  22.3  22.4  22.5  22.6  22.7  22.8  22.9    23  23.1  23.2 
63828  5095 33412  4115  3163  7483  5076  4924 35025  3320 64776  5147  4864 
 23.3  23.4  23.5  23.6  23.7  23.8  23.9    24  24.1  24.2  24.3  24.4  24.5 
33659  3434  7361  5272  4938  4515 33134 52759  5584  5206  4488 33190  7966 
 24.6  24.7  24.8  24.9    25  25.1  25.2  25.3  25.4  25.5  25.6  25.7  25.8 
 5777  5405  4516  3469 83953  5413  5160  4413  3547  6975 32579  4983  4279 
 25.9    26  26.1  26.2  26.3  26.4  26.5  26.6  26.7  26.8  26.9    27  27.1 
 3566 51130 31429  4653  4202  3317  6398  4732 29916  3987  3092 46443  4409 
 27.2  27.3  27.4  27.5  27.6  27.7  27.8  27.9    28  28.1  28.2  28.3  28.4 
27416  3735  3114  5739  4238  4056 25183  2993 41511  3955  3806 24384  2696 
 28.5  28.6  28.7  28.8  28.9    29  29.1  29.2  29.3  29.4  29.5  29.6  29.7 
 4909  3692  3448  3061 21344 33349  3428  3172  2855 19943  4051  3229  2916 
 29.8  29.9    30  30.1  30.2  30.3  30.4  30.5  30.6  30.7  30.8  30.9    31 
 2522  2219 50179  2745  2610  2286  2018  3128 17328  2332  2219  1973 26272 
 31.1  31.2  31.3  31.4  31.5  31.6  31.7  31.8  31.9    32  32.1  32.2  32.3 
16046  2161  1956  1778  2586  2143 14124  1796  1802 21232  1966 12660  1639 
 32.4  32.5  32.6  32.7  32.8  32.9    33  33.1  33.2  33.3  33.4  33.5  33.6 
 1545  2168  1801  1761 10868  1410 16314  1689  1514  9685  1265  1721  1614 
 33.7  33.8  33.9    34  34.1  34.2  34.3  34.4  34.5  34.6  34.7  34.8  34.9 
 1393  1205  8313 10230  1339  1273  1202  7215  1479  1225  1127  1014   995 
   35  35.1  35.2  35.3  35.4  35.5  35.6  35.7  35.8  35.9    36  36.1  36.2 
14506  1153  1021   984   872  1173  5151   967   802   797  6744  4509   797 
 36.3  36.4  36.5  36.6  36.7  36.8  36.9    37  37.1  37.2  37.3  37.4  37.5 
  669   643   844   722  3724   591   552  4777   614  3142   555   515   568 
 37.6  37.7  37.8  37.9    38  38.1  38.2  38.3  38.4  38.5  38.6  38.7  38.8 
  528   466  2400   370  2923   366   333  1723   303   321   266   258   240 
 38.9    39  39.1  39.2  39.3  39.4  39.5  39.6  39.7  39.8  39.9    40  40.1 
 1384  1532   208   184   178  1071   174   147   126   116   110  1413    83 
 40.2  40.3  40.4  40.5  40.6  40.7  40.8  40.9    41  41.1  41.2  41.3  41.4 
   71    70    56    53   536    45    30    34   592   449    26    18    10 
 41.5  41.6  41.7  41.8  41.9    42  42.1  42.2  42.3  42.4  42.5  42.6  42.7 
   20    17   339    11    11   427    11   250    15    11    10     3     6 
 42.8  42.9    43  43.1  43.2  43.3  43.4  43.5  43.6  43.7  43.8  43.9    44 
  186     6   215     9     1   116     3     2     3     7     4    95   164 
 44.2  44.3  44.4  44.5  44.6  44.7  44.8  44.9    45  45.6    46  46.1  46.7 
    4     1    81     1     2     2     1     1   127    34    37    20    19 
   47  47.2  47.8  48.3  48.9  49.4    50  50.6  51.1  51.7    52  52.8  53.9 
   11     7     4     5     2     1     4     2     2     3     1     2     1 
 54.4    56 
    1     1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(met<span class="sc">$</span>elev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  -13   -12     0     1     2     3     4     5     6     7     8     9    10 
    8   791  5311  3437 10991 21965 14247 26768 21248 20041 15514 16049 11207 
   11    12    13    14    15    16    17    18    19    20    21    22    23 
 4398  8393  8597  8909 12953  7422  9669  3046  4056  9546 14349  5800 10971 
   24    25    26    27    28    29    30    31    32    33    34    35    36 
 9820 10827  4167  7845  4471  3865 10588  7744  3231  5913 10671   778  5586 
   37    38    39    40    41    43    44    45    46    47    48    49    50 
 6262  3653  2237  2998  6812  7349  4130  6126  1975  3278  3854  1010  3118 
   51    52    53    54    55    56    57    58    59    60    61    62    63 
 5321  2122  3849  3408  5945  2935  6976  3167  7346  3165  1038  4505  2160 
   64    65    66    67    68    69    70    71    72    73    74    75    77 
 1317 11541  1485  7613   924  3439  2167  2314   838  6013  3444  8680  1144 
   78    79    80    82    83    84    85    87    88    89    90    91    92 
 7329  1924  4422  1164  2032  3286  2568  3582  1040  1053  4284  3097  7296 
   93    94    95    96    97    98    99   100   101   102   103   104   105 
 2253  6606  6615  2190  2672  4367   917  5205  8679     6  3320  3211  1375 
  106   107   108   109   110   111   112   114   115   117   118   119   120 
 4148   990  6182  4431  3443  8615  5759   841  1761  6650  5687  4486   981 
  121   122   123   124   125   126   127   129   130   131   132   133   134 
 2880   871  6722   894   250  4207  6363  8614  2189  5492  2217   909  2054 
  135   136   137   138   139   140   141   142   143   144   145   146   147 
 4589  2238  5233  3412  1006  3322  6465    97  6436  3913  1916  3947  2240 
  148   149   150   151   152   153   154   155   157   158   160   161   162 
 4490 10767  3918  1949  2250  3156     6  1646  2365  1008  6336  7455   805 
  163   164   165   166   167   168   169   170   171   172   173   174   175 
 3216  3247     2  5444  3123  1958  3944    12  1008   208  3176  1032  5406 
  176   177   178   179   180   181   182   183   184   185   186   187   188 
 6479  3209  5773  3434  8981  2071  2118  8118   901     2  6465  5948  8689 
  189   190   191   192   193   194   195   196   197   198   199   200   201 
 1436  1088  4489  3765  7522  3787  2918  6493  7191  9139  5537  7368  7435 
  202   203   204   205   206   207   208   209   210   211   212   213   214 
 5544  2898  5823 13918  5400  1041  6117 10697  4586  4331  6895  1441  5892 
  215   216   217   218   219   220   221   222   223   224   225   226   227 
 5173  2890  3135  4551  3285  2971  6307  6089  4177  7148  5562  2095  2915 
  228   229   230   231   232   233   234   235   236   237   238   240   241 
 2450  2078 10281   967  2567 10845  2018  1915  6493  6945  6448  4010  2278 
  242   243   244   245   246   247   248   249   250   251   252   253   254 
 1234  5195  4080  4207  3340  4574  2225  2795   447 10352  6520  4669  8539 
  255   256   258   259   260   262   263   264   265   266   267   268   269 
 6787  7229  7313  3895  4494  2288   897  1073  8864  4263  3031  4587  4297 
  270   271   272   273   274   275   276   277   278   279   280   281   282 
 6494    12  8339  4380  1182  4191  5779  4724  2827  7959  9465  7316  6148 
  283   284   285   286   287   288   289   290   291   292   293   294   295 
 4714  1026  2211  2078  4778  3237  2196  8232  3480  5143  5749  5365  7480 
  296   297   298   299   300   301   302   303   304   305   306   307   308 
 7496  4162  6985  4194  5417  3267  7119  2248  4709  1127  4692  4398  4772 
  309   310   311   312   313   314   315   317   318   319   320   321   322 
 5100  3364 11795 10489  6142  4177  5560  1044  2236  7085  5415    38     2 
  323   324   325   326   327   328   329   330   331   333   334   335   336 
 5365  1197   423  3847  9870  4759  7197  2235  4119  2209     3   899  4338 
  337   338   339   340   342   343   344   346   347   349   350   351   352 
 3088  3201  2242  2133 12782  4746  5638   919  7688   573     4  2372  2236 
  353   354   355   356   357   358   359   360   361   362   363   364   365 
 6832 12840     1  1371  2204   999   247 10865  6098  5403  2322  4687  5450 
  366   367   368   369   370   371   372   373   374   375   377   378   379 
 2330  8565  1050  1047  3210    43  7923  3288  7437  6721  3241  3621   473 
  380   381   382   383   384   386   387   388   389   390   391   392   393 
 3434     2  6721   844  4200  2233  3001  1025  8640  2720  3333  2229  5270 
  394   395   396   397   398   399   400   401   402   403   404   405   407 
 2144  1041  8446  3394  8186   247  4169  5397  2150  2257  5459  1755    10 
  408   409   412   413   414   416   417   418   421   422   423   425   427 
 2643   123  1609  2091  1093     2   392  4057  1883  1124  2957  4038  3176 
  428   430   432   433   434   435   436   437   440   441   446   447   448 
 3334  2253  2248  3224     6  1020  5385  2253  1095  2352   764  2258  3324 
  449   450   451   452   453   454   456   460   462   463   464   465   467 
 2235  3031   767  1286  2105  2194  2218   798  1304     2  2249   931  3172 
  468   469   470   472   473   477   479   480   489   490   491   492   493 
  902  2031  1068  4434  1176     1   870   803  2236  2240  2244  2101  2257 
  495   497   498   499   500   502   507   509   517   519   523   525   526 
  416  2228  2246  1233  2021  1002  2293  2257  8892    90  3492  1205  1034 
  529   530   531   542   545   546   550   553   554   555   556   557   563 
 3071  1052     4  2228   824   938  4498  2205     1  2223  1215  2216     2 
  566   568   570   573   575   577   582   584   585   586   587   588   593 
 1366  1101  1104     1  1065  1843   122     3     2     1     3   782  1503 
  594   595   596   598   603   604   606   609   610   619   625   629   631 
 2234   891  2073     3  1233  2158    52  1192  2243  3339    33  1252     1 
  636   642   643   644   646   648   649   650   651   653   655   660   661 
 2246  2251  2200  1280  2193  2142  1127  2342  2236     7  1310     3  1392 
  664   667   671   672   673   674   677   680   684   691   694   696   701 
  916  2245  2209   794     5   936  1116     1  2202  2229   797  1804   808 
  702   704   708   711   713   716   723   725   726   727   730   735   737 
 2790  2302     5  2165   778  2213  2250    90  2242  2141  2246  2256   430 
  741   747   749   763   766   771   773   775   776   779   780   782   784 
 3016   124  1613    32  1099  1254  2194     5     2   852  2246     1  1356 
  785   786   787   789   790   791   792   796   805   807   818   821   824 
  770  1089  2980  2251  1271     6  1212  2255   805     2  2169  2249   908 
  840   845   846   848   849   851   854   860   872   873   874   875   878 
 2232  2234     3   247  1186  2212  2258   823   817   124  2005     3   972 
  879   881   889   892   894   896   906   910   915   917   918   931   949 
 1401     4  2226  2251    91  2953   907  2166  1614   835     5   891   881 
  952   959   963   966   968   969   971   977   988   989   994   997   998 
    4    89   829  1243     8  2212  2168     6   947  2247   830     4  1039 
  999  1000  1004  1005  1006  1009  1010  1015  1016  1028  1033  1040  1050 
 3428     1     2   954   122   778  2259   951     4  2238   124  2243   793 
 1051  1055  1077  1079  1088  1095  1098  1099  1104  1105  1113  1114  1116 
    4  2217   780  2210  1056   247   917     9    82  2146    43     4  1491 
 1118  1119  1124  1129  1130  1137  1153  1154  1156  1171  1190  1194  1198 
  962     3  1171  3164     2  2252  2161    88  2101  1053   786  1085  4204 
 1199  1205  1206  1209  1226  1231  1239  1247  1248  1250  1256  1263  1264 
 1601     3  1138   993     2  3093     1   847     5   892     4   897   878 
 1265  1266  1267  1271  1277  1280  1282  1283  1284  1285  1286  1288  1289 
   16     1   784     2   787  2237   908   829   822  1925     2  2931   336 
 1291  1292  1304  1309  1312  1313  1314  1315  1318  1322  1323  1330  1331 
  775     5   123   934  1094     3   765  2968   864   123   860     4   842 
 1333  1335  1341  1346  1353  1355  1356  1358  1363  1365  1371  1376  1378 
    4   750   905     2   802   352   824  3050     5   935   795    89     5 
 1379  1381  1388  1391  1392  1393  1408  1417  1420  1432  1437  1438  1439 
  877  2226     4   778    82  1916  1913   782     4  3377     1    47   973 
 1440  1441  1443  1446  1453  1460  1471  1473  1475  1478  1481  1486  1488 
    5   742    46   788   826   785  2105   124   795   704   994  2238   895 
 1501  1502  1503  1506  1513  1514  1515  1529  1530  1534  1536  1538  1539 
 2227   873     2     2     3   890  1054   908   804  3560  5720     2    98 
 1540  1541  1546  1547  1553  1555  1564  1567  1572  1583  1608  1609  1610 
 2947  2206    13   795   832    34  1810     3  2224  2229   806     3   781 
 1611  1612  1619  1620  1622  1630  1632  1635  1654  1655  1656  1660  1661 
    4  3225   247   859  1232     5     2   999     1   892  1043  2236     2 
 1663  1677  1680  1684  1690  1694  1696  1698  1703  1707  1712  1714  1726 
  817   800  1397   813   793   809  1103   124     6     3   822     5   818 
 1728  1747  1748  1750  1755  1756  1776  1779  1785  1793  1798  1803  1804 
 1297   835     1   864   791     5   845  2056   801     4  1486   815     2 
 1809  1811  1812  1814  1838  1840  1871  1872  1876  1881  1886  1888  1899 
  783  2013     3     4   671   211   923   123     4   882    30   837   785 
 1908  1909  1910  1912  1915  1934  1935  1936  1948  1955  1957  1965  1966 
  129  1530    32   778   244   872   940     6   824  2228     5   818    34 
 1971  1973  1987  1992  1993  1996  2012  2014  2025  2035  2038  2054  2055 
  824     5  2226   818    51  1962   796   811  2240  2210   832   842   839 
 2056  2057  2060  2067  2077  2095  2096  2125  2126  2131  2135  2137  2138 
  803   746     1    35  2246  2160  3060    94   818     1   124   128  2103 
 2139  2149  2152  2160  2161  2173  2175  2177  2186  2217  2220  2224  2225 
  837    90  2164  3088   840  2183     3   806  2241   855  2235  2233  1862 
 2294  2298  2299  2313  2335  2339  2340  2360  2384  2385  2388  2422  2423 
 2207   862   120   881  2237   767    30   827     2  2136   772  2127   101 
 2554  2588  2767  2995  3026  3232  3438  3584  3594  3667  3680  3803  4113 
 2197  2242  2236  2233   846  2230  2231    98  2145  2132  2255    86  2138 
 9999 
  710 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(met<span class="sc">$</span>wind.sp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     0    0.5      1    1.3    1.5    1.8    2.1    2.2    2.6    2.7      3 
642539     35    121      8 264617      1 264802     15 237358      3      3 
   3.1    3.5    3.6      4    4.1    4.4    4.5    4.6      5    5.1    5.7 
202651     24 165888     18 133069      2      1 102006      5  78519  57372 
     6    6.2    6.7      7    7.2    7.7      8    8.2    8.8      9    9.3 
     4  42386  30639      3  21918  15430      3  11232   7782      3   5509 
   9.8     10   10.3   10.8   11.3   11.8   12.4   12.9   13.4   13.9   14.4 
  3800      2   2770   1893   1351    894    651    464    364    283    218 
  14.9   15.4     16   16.5     17   17.5     18   18.5     19   19.6   20.1 
   152    143    109     79     88     76     76     51     33     28     29 
  20.6   21.1   21.6   22.1   22.7   23.2   23.7   24.2   24.7   25.2   25.7 
    18     22     16     12     11     10      4      8      6      6      6 
  26.3   26.8   27.3   27.8   28.3     36 
     2      2      1      2      1      3 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># replace 9999 with NA</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>met <span class="ot">&lt;-</span> met <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">elev =</span> <span class="fu">na_if</span>(elev, <span class="dv">9999</span>))</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># find max elev</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(met<span class="sc">$</span>elev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
    -13     101     252     413     400    4113     710 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove NA and -40C</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>met <span class="ot">&lt;-</span> met[<span class="sc">!</span><span class="fu">is.na</span>(met<span class="sc">$</span>elev), ]</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>met <span class="ot">&lt;-</span> met[met<span class="sc">$</span>temp <span class="sc">&gt;</span> <span class="sc">-</span><span class="dv">40</span>, ]</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(met<span class="sc">$</span>temp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 -17.20   19.60   23.50   23.59   27.80   56.00   59561 </code></pre>
</div>
</div>
<p>The highest weather station is at 4113 elevation. The new lowest temperature is -17.2C.</p>
</section>
<section id="check-with-external-data-source" class="level3">
<h3 class="anchored" data-anchor-id="check-with-external-data-source">5. Check with external data source</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(met<span class="sc">$</span>elev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  -13.0   101.0   252.0   414.3   400.0  4113.0   59561 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>met <span class="ot">&lt;-</span> met[<span class="fu">order</span>(met<span class="sc">$</span>elev), ]</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(met)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         USAFID WBAN year month day hour min lat lon elev wind.dir wind.dir.qc
NA.59555     NA   NA   NA    NA  NA   NA  NA  NA  NA   NA       NA        &lt;NA&gt;
NA.59556     NA   NA   NA    NA  NA   NA  NA  NA  NA   NA       NA        &lt;NA&gt;
NA.59557     NA   NA   NA    NA  NA   NA  NA  NA  NA   NA       NA        &lt;NA&gt;
NA.59558     NA   NA   NA    NA  NA   NA  NA  NA  NA   NA       NA        &lt;NA&gt;
NA.59559     NA   NA   NA    NA  NA   NA  NA  NA  NA   NA       NA        &lt;NA&gt;
NA.59560     NA   NA   NA    NA  NA   NA  NA  NA  NA   NA       NA        &lt;NA&gt;
         wind.type.code wind.sp wind.sp.qc ceiling.ht ceiling.ht.qc
NA.59555           &lt;NA&gt;      NA       &lt;NA&gt;         NA            NA
NA.59556           &lt;NA&gt;      NA       &lt;NA&gt;         NA            NA
NA.59557           &lt;NA&gt;      NA       &lt;NA&gt;         NA            NA
NA.59558           &lt;NA&gt;      NA       &lt;NA&gt;         NA            NA
NA.59559           &lt;NA&gt;      NA       &lt;NA&gt;         NA            NA
NA.59560           &lt;NA&gt;      NA       &lt;NA&gt;         NA            NA
         ceiling.ht.method sky.cond vis.dist vis.dist.qc vis.var vis.var.qc
NA.59555              &lt;NA&gt;     &lt;NA&gt;       NA        &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;
NA.59556              &lt;NA&gt;     &lt;NA&gt;       NA        &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;
NA.59557              &lt;NA&gt;     &lt;NA&gt;       NA        &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;
NA.59558              &lt;NA&gt;     &lt;NA&gt;       NA        &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;
NA.59559              &lt;NA&gt;     &lt;NA&gt;       NA        &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;
NA.59560              &lt;NA&gt;     &lt;NA&gt;       NA        &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;
         temp temp.qc dew.point dew.point.qc atm.press atm.press.qc rh
NA.59555   NA    &lt;NA&gt;        NA         &lt;NA&gt;        NA           NA NA
NA.59556   NA    &lt;NA&gt;        NA         &lt;NA&gt;        NA           NA NA
NA.59557   NA    &lt;NA&gt;        NA         &lt;NA&gt;        NA           NA NA
NA.59558   NA    &lt;NA&gt;        NA         &lt;NA&gt;        NA           NA NA
NA.59559   NA    &lt;NA&gt;        NA         &lt;NA&gt;        NA           NA NA
NA.59560   NA    &lt;NA&gt;        NA         &lt;NA&gt;        NA           NA NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>met_temp <span class="ot">&lt;-</span> met[<span class="fu">order</span>(met<span class="sc">$</span>temp), ]</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(met_temp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        USAFID WBAN year month day hour min    lat    lon elev wind.dir
1203053 722817 3068 2019     8   1    0  56 38.767 -104.3 1838      190
1203055 722817 3068 2019     8   1    1  56 38.767 -104.3 1838      180
1203128 722817 3068 2019     8   3   11  56 38.767 -104.3 1838       NA
1203129 722817 3068 2019     8   3   12  56 38.767 -104.3 1838       NA
1203222 722817 3068 2019     8   6   21  56 38.767 -104.3 1838      280
1203225 722817 3068 2019     8   6   22  56 38.767 -104.3 1838      240
        wind.dir.qc wind.type.code wind.sp wind.sp.qc ceiling.ht ceiling.ht.qc
1203053           5              N     7.2          5         NA             9
1203055           5              N     7.7          5         NA             9
1203128           9              C     0.0          5         NA             9
1203129           9              C     0.0          5         NA             9
1203222           5              N     2.6          5         NA             9
1203225           5              N     7.7          5         NA             9
        ceiling.ht.method sky.cond vis.dist vis.dist.qc vis.var vis.var.qc
1203053                 9        N       NA           9       N          5
1203055                 9        N       NA           9       N          5
1203128                 9        N       NA           9       N          5
1203129                 9        N       NA           9       N          5
1203222                 9        N       NA           9       N          5
1203225                 9        N       NA           9       N          5
         temp temp.qc dew.point dew.point.qc atm.press atm.press.qc rh
1203053 -17.2       5        NA            9        NA            9 NA
1203055 -17.2       5        NA            9        NA            9 NA
1203128 -17.2       5        NA            9        NA            9 NA
1203129 -17.2       5        NA            9        NA            9 NA
1203222 -17.2       5        NA            9        NA            9 NA
1203225 -17.2       5        NA            9        NA            9 NA</code></pre>
</div>
</div>
<p>The lowest temperature is located at Ellicott, CO.</p>
</section>
<section id="summary-statistics" class="level3">
<h3 class="anchored" data-anchor-id="summary-statistics">6. Summary statistics</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>met_maxelev <span class="ot">&lt;-</span> met <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(elev <span class="sc">==</span> <span class="dv">4113</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(temp, wind.sp, hour, day) <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(wind.sp))</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(met_maxelev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      temp           wind.sp            hour            day       
 Min.   : 1.000   Min.   : 0.000   Min.   : 0.00   Min.   : 1.00  
 1st Qu.: 6.000   1st Qu.: 4.100   1st Qu.: 6.00   1st Qu.: 8.00  
 Median : 8.000   Median : 6.700   Median :12.00   Median :16.00  
 Mean   : 8.135   Mean   : 7.245   Mean   :11.69   Mean   :16.02  
 3rd Qu.:10.000   3rd Qu.: 9.800   3rd Qu.:18.00   3rd Qu.:24.00  
 Max.   :15.000   Max.   :21.100   Max.   :23.00   Max.   :31.00  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(met_maxelev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                temp     wind.sp         hour          day
temp     1.000000000 -0.09373843  0.435680110 -0.006130763
wind.sp -0.093738431  1.00000000  0.088073152  0.364307915
hour     0.435680110  0.08807315  1.000000000 -0.004546462
day     -0.006130763  0.36430791 -0.004546462  1.000000000</code></pre>
</div>
</div>
<p>Temperature and hour and moderately correlated, with a correlation coefficient of 0.44. Wind speed and day are also moderately correlated, with a correlation coefficient of 0.36. Correlations only test for linear relationships so it may miss other relationships between variables that are not linear.</p>
</section>
<section id="exploratory-graphs" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-graphs">7. Exploratory graphs</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(met<span class="sc">$</span>elev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Untitled_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(met<span class="sc">$</span>temp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Untitled_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(met<span class="sc">$</span>wind.sp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Untitled_files/figure-html/unnamed-chunk-8-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(met<span class="sc">$</span>elev) <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(<span class="st">'OpenStreetMap'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircles</span>(<span class="at">lat=</span><span class="fl">39.8</span>,<span class="at">lng=</span><span class="sc">-</span><span class="fl">105.766</span>, <span class="at">opacity=</span><span class="dv">1</span>, <span class="at">fillOpacity=</span><span class="dv">1</span>, <span class="at">radius=</span><span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-a44bede757e473ba6d08" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a44bede757e473ba6d08">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["OpenStreetMap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircles","args":[39.8,-105.766,100,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":1,"fill":true,"fillColor":"#03F","fillOpacity":1},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"limits":{"lat":[39.8,39.8],"lng":[-105.766,-105.766]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lubridate'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>elev <span class="ot">&lt;-</span> met <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(elev <span class="sc">==</span> <span class="dv">4113</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(wind.sp))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>elev<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">with</span>(elev, <span class="fu">ymd_h</span>(<span class="fu">paste</span>(year, month, day, hour, <span class="at">sep=</span> <span class="st">' '</span>)))</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(elev<span class="sc">$</span>date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 Min.               1st Qu.                Median 
"2019-08-01 00:00:00" "2019-08-08 06:00:00" "2019-08-16 17:00:00" 
                 Mean               3rd Qu.                  Max. 
"2019-08-16 12:13:41" "2019-08-24 13:00:00" "2019-08-31 22:00:00" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>elev <span class="ot">&lt;-</span> elev[<span class="fu">order</span>(elev<span class="sc">$</span>date), ]</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(elev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       USAFID WBAN year month day hour min  lat      lon elev wind.dir
221697 720385  419 2019     8   1    0  36 39.8 -105.766 4113      170
221698 720385  419 2019     8   1    0  54 39.8 -105.766 4113      100
221699 720385  419 2019     8   1    1  12 39.8 -105.766 4113       90
221700 720385  419 2019     8   1    1  35 39.8 -105.766 4113      110
221701 720385  419 2019     8   1    1  53 39.8 -105.766 4113      120
221702 720385  419 2019     8   1    2  12 39.8 -105.766 4113      120
       wind.dir.qc wind.type.code wind.sp wind.sp.qc ceiling.ht ceiling.ht.qc
221697           5              N     8.8          5       1372             5
221698           5              N     2.6          5       1372             5
221699           5              N     3.1          5       1981             5
221700           5              N     4.1          5       2134             5
221701           5              N     4.6          5       2134             5
221702           5              N     6.2          5      22000             5
       ceiling.ht.method sky.cond vis.dist vis.dist.qc vis.var vis.var.qc temp
221697                 M        N       NA           9       N          5    9
221698                 M        N       NA           9       N          5    9
221699                 M        N       NA           9       N          5    9
221700                 M        N       NA           9       N          5    9
221701                 M        N       NA           9       N          5    9
221702                 9        N       NA           9       N          5    9
       temp.qc dew.point dew.point.qc atm.press atm.press.qc       rh
221697       5         1            5        NA            9 57.61039
221698       5         1            5        NA            9 57.61039
221699       5         2            5        NA            9 61.85243
221700       5         2            5        NA            9 61.85243
221701       5         2            5        NA            9 61.85243
221702       5         2            5        NA            9 61.85243
                      date
221697 2019-08-01 00:00:00
221698 2019-08-01 00:00:00
221699 2019-08-01 01:00:00
221700 2019-08-01 01:00:00
221701 2019-08-01 01:00:00
221702 2019-08-01 02:00:00</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elev<span class="sc">$</span>date, elev<span class="sc">$</span>temp, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">cex=</span><span class="fl">0.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Untitled_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elev<span class="sc">$</span>date, elev<span class="sc">$</span>wind.sp, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">cex=</span><span class="fl">0.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Untitled_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The time series plot for temperature stays relatively within the same range, with some fluctuations. The plot for wind speed shows a couple of spikes around mid-August and end of August.</p>
</section>
<section id="questions" class="level3">
<h3 class="anchored" data-anchor-id="questions">8. Questions</h3>
<p>Why are there so many missing data for variables like temperature, elevation, and wind speed?</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>